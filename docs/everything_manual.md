# Everything連携マニュアル

本アプリケーションは、Windowsの高速ファイル検索ソフト「Everything」と連携することで、ドライブ全体のファイルを瞬時に検索できるようになります。

以下に、Everythingのインストールから設定、本アプリケーションとの接続方法までを詳しく解説します。

## 1. Everythingのインストール

まだEverythingをインストールしていない場合は、公式サイトからインストールしてください。

1.  [Voidtools公式サイト](https://www.voidtools.com/) にアクセスします。
2.  インストーラー（通常は "Download Installer"）をダウンロードします。
    *   **64-bit** 版を推奨します。
3.  ダウンロードしたファイルを実行し、画面の指示に従ってインストールを完了してください。
    *   インストール設定は基本的にデフォルトのままで問題ありません。
    *   「Install Everything Service」にチェックが入っていることを確認してください（NTFSドライブのインデックス作成に必要です）。

## 2. Everythingの設定（HTTPサーバーの有効化）

Everythingがアプリケーションと通信できるように、HTTPサーバー機能を有効にします。

1.  タスクトレイの検索アイコン、またはデスクトップのショートカットから **Everything** を起動します。
2.  メニューバーの **「ツール (Tools)」** をクリックし、**「オプション (Options)」** を選択します。
3.  左側のリストから **「HTTPサーバー (HTTP Server)」** をクリックします。
4.  右側の画面で以下の設定を行います：

    *   **「HTTPサーバーを有効にする (Enable HTTP server)」**: **チェックを入れる** ✅
    *   **「サーバーポート (Server port)」**: `8080` と入力
        *   ※もし他のアプリで使用中の場合は `8081` などに変更してください。
    *   **「ユーザー名 (Username)」**: **空欄** にする（推奨）
    *   **「パスワード (Password)」**: **空欄** にする（推奨）
    *   **「ローカルからのアクセスのみ許可 (Allow localhost connections only)」**: **チェックを入れる** ✅
        *   ※これにより、自分のPCからのみ検索が可能になり、セキュリティが向上します。

5.  **「適用 (Apply)」** をクリックし、**「OK」** をクリックして設定画面を閉じます。

## 3. 接続確認（ブラウザ）

設定が正しいか、ブラウザを使って確認します。

1.  ChromeやEdgeなどのブラウザを開きます。
2.  アドレスバーに `http://localhost:8080` と入力してEnterキーを押します。
3.  Everythingの検索画面（Web版）が表示されれば成功です。
    *   適当なキーワードを入れて検索できるか試してみてください。

## 4. アプリケーション側の設定

本ファイルマネージャーアプリからEverythingに接続する設定を行います。

1.  ファイルマネージャーアプリを起動します。
2.  画面右側にある **検索ペイン**（虫眼鏡アイコンのエリア）を見ます。
3.  検索ボックスの横にある **設定ボタン (⚙️)** をクリックします。
4.  設定メニューが開くので、**「インデックスサービスURL」** の欄を確認します。
5.  Everythingで設定したURLを入力します。
    *   デフォルト: `http://localhost:8080`
    *   ※ポート番号を変更した場合は、それに合わせてください（例: `http://localhost:8081`）。
6.  入力欄からフォーカスを外すと（別の場所をクリックすると）、設定が自動的に保存されます。
7.  設定ボタンをもう一度クリックしてメニューを閉じます。

## 5. 使い方

Everything連携機能を使って検索するには：

1.  検索ペインの左上にあるモード切替ボタン（通常は **Off** または **Live** になっています）をクリックします。
2.  **「Index」** または **「Index(ALL)」** を選択します。
    *   **Index**: 現在開いているフォルダ以下を検索します。
    *   **Index(ALL)**: コンピュータ内の全ファイルを検索します。
3.  検索ボックスにキーワードを入力してEnterキーを押します。
4.  Everythingの高速検索結果が瞬時に表示されます。

## トラブルシューティング

### Q. 「接続できません」やエラーが表示される
*   Everythingが起動しているか確認してください（タスクトレイを確認）。
*   Everythingのオプションで「HTTPサーバー」が有効になっているか再確認してください。
*   ポート番号（8080など）が合っているか確認してください。
*   セキュリティソフトやファイアウォールが通信をブロックしていないか確認してください（「ローカルからのアクセスのみ許可」にしていれば通常は警告は出ません）。

### Q. 検索結果に新しいファイルが表示されない
*   Everything本体側で検索できるか確認してください。Everything側でも出ない場合は、インデックス作成中か、対象外の設定になっている可能性があります。
*   Everythingのオプション > **「検索 (Indexes)」** > **「強制的に再構築 (Force Rebuild)」** を試してみてください。

### Q. ポート8080が使えないと言われる
*   開発用のWebサーバーなどが既にポート8080を使っている可能性があります。
*   Everythingの「サーバーポート」を `5000`、`8888` など別の番号に変更し、アプリ側の設定も合わせて変更してください。
